/*
 * This source file was generated by the Gradle 'init' task
 */
package org.example;

import org.example.controller.GameController;
import org.example.model.tictactoe.TicTacToe;
import org.example.model.tictactoe.TicTacToeImpl;
import org.example.view.View;

public class App {

    public static void main(String[] args) {
        if (args.length > 0) {
            switch (args[0]){
                case "-h":
                    showHelp();
                    break;
                case "-g":
                    playGui();
                    break;
                case "-t":
                    playTerminalMode();
                default:
                    System.out.println("Unknown argument: " + args[0]);
                    showHelp();
                    break;
            }
        } else {
            //playTerminalMode();
            playGui();
        }
    }

    public static void playGui() {
        View view = new View();
        TicTacToe game = new TicTacToeImpl();
        GameController controller = new GameController(view, game);
        view.setController(controller);
        controller.startGui();
    }

    public static void playTerminalMode() {
        System.out.println("Hello tic tac toe, in terminal version");
        TicTacToe game = new TicTacToeImpl();
        GameController controller = new GameController(null, game);
        controller.start();
    }

    public static void showHelp() {
        System.out.println("  -g : GUI mode");
        System.out.println("  -t : Terminal mode");
        System.out.println("  -h : Displays this help");
        System.out.println("If ran from the jar, usage: java -jar app.jar [-g | -t | h]");
    }
}
